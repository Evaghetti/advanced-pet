<template>
  <g id="navi-attack-group">
    <g id="navi-group">
        <polygon points="44.32 8.04 47.21 8.04 47.21 9.85 48.71 9.85 48.71 8.04 50.14 8.04 50.14 6.75 46.96 6.75 46.96 5.12 39.63 5.12 39.63 6.75 44.32 6.75 44.32 8.04" />
        <rect x="51.87" y="9.85" width="1.26" height="3.05" />
        <rect x="48.71" y="9.85" width="1.42" height="3.05" />
        <rect x="50.14" y="8.04" width="1.73" height="1.81" />
        <polygon points="51.87 17.38 51.87 15.96 51.87 12.9 50.14 12.9 50.14 15.96 48.71 15.96 48.71 17.38 50.29 17.38 50.29 19.17 51.87 19.17 51.87 20.67 53.13 20.67 53.13 19.17 54.73 19.17 54.73 17.38 54.73 12.9 53.13 12.9 53.13 17.38 51.87 17.38" />
        <rect x="30.79" y="20.67" width="2.83" height="1.48" />
        <rect x="32.2" y="11.73" width="1.41" height="1.41" />
        <rect x="27.67" y="13.48" width="1.5" height="1.13" />
        <polygon points="39.02 14.52 36.66 14.52 36.66 15.58 37.99 15.58 37.99 16.85 38.75 16.85 38.75 17.88 37.26 17.88 37.26 18.97 39.82 18.97 39.82 17.92 39.82 17.88 39.82 16.85 39.82 15.58 39.02 15.58 39.02 14.52" />
        <rect x="29.17" y="22.15" width="1.62" height="4.87" />
        <rect x="35.29" y="46.96" width="1.42" height="1.58" />
        <polygon points="49.79 48.37 51.29 48.37 51.29 50.38 49.79 50.38 49.79 52.73 47.59 52.73 45.95 52.73 45.95 56.94 47.59 56.94 47.59 54.83 49.79 54.83 49.79 59.15 52.39 59.15 53.49 59.15 53.49 61.23 49.79 61.23 49.79 59.15 45.95 59.15 45.95 56.94 44.33 56.94 44.33 60.81 45.95 60.81 45.95 63.44 49.79 63.44 53.49 63.44 55.85 63.44 57.93 63.44 57.93 59.15 55.85 59.15 55.85 59.11 55.85 56.99 53.49 56.99 52.39 56.99 52.39 54.83 52.39 52.73 53.11 52.73 53.11 50.38 53.11 48.37 53.11 47.15 51.29 47.15 51.29 45.49 49.79 45.49 49.79 47.15 49.79 48.37" />
        <rect x="48.21" y="43.76" width="1.58" height="1.73" />
        <rect x="46.52" y="42.34" width="1.69" height="1.41" />
        <rect x="69.77" y="21.83" width="3.18" height="1.54" />
        <rect x="54.87" y="26.74" width="1.39" height="1.39" />
        <polygon points="64.06 21.83 69.77 21.83 69.77 20.43 54.73 20.43 54.73 21.83 62.25 21.83 62.25 23.64 64.06 23.64 64.06 21.83" />
        <rect x="64.06" y="24.87" width="1.55" height="1.67" />
        <rect x="17.22" y="60.28" width="2.19" height="1.75" />
        <rect x="15.71" y="62.02" width="1.5" height="4.62" />
        <path d="M73,23.37V25H69.77V23.37H68.54V25H67v1.53h1.53v1.74H67V26.53H65.61v1.74H64.06V26.53H62.25V23.64H60.79v4.45h-1.5V26.74H57.86v1.38h1.43V30H57.86V28.12H56.25V30H54.87v1.43H53.13V30h1.74V28.12H53.13V23.64h1.6V22.06H51.87V20.67H50.29v1.39H47.21V20.67H46V18.88h-1.7V14.43H42.7v4.48h1.62v1.76H42.7V18.91H41.53v1.76H36.66V19.48H35V14.43h1.66v-1.9H41.2v1.9h1.5v-1.9h1.62v1.9H46v4.45h1.19v1.79h1.5V17.38h-1.5V16h1.5V12.9h-1.5V11.59H46.09v-.66h-.65V9.85H44V8.58H39.62V6.75H38.3V8.58H36.66V9.85H35.34v1.08H35v1.6h.58v.65h-2v2.93h-1.3v-1.5H29.17v1.5h1.57v1.27h1.58v1.79h1.3v1.5h1.72v1.48H33.62v3h-1.3V27H30.79v7.76H29.58v3H27.84V44H26.46v4.32h-3.3v6.05h-1.5v4H19.41v1.9H24v-1.9h1.39v-1.9h2.52v1.9H25.36v6.07H23.51V62.51h-4.1v1.94h1.88v2.2H17.22v2h8.14v-2h2.52V60.28H30v-3.8h1.91v-2H34V50.32h1.25V48.55H33.62V47h1.67V45.28h1.43V43.54h3.1v1.74h-3.1v1.66h3v2h4.47v3.8H46V50.32H49v-2H47.21V45.43H45.77V44h-1V42.43h-2V40.57h2.3v1.77h1.43V40.57h.69V39.46h4.66V37.62h2.89V35.86H56.6V31.44H69.77V30h2.85V28.27h1.43v-4.9ZM35.29,31.44H33.62v6.18h-1.3v4.81H31V47H29.58v3.36h-1.7v2h4v2.1H25.36V50.32h2.48V45.43h1.74V39.07h1.21V35.86h1.53V28.58h1.3V26.74h1.67ZM50.4,37.62H47.21V36.38H45.94V34.67h3v1.19H50.4Zm-.26-4.56V30.35h-1.4v1.09H47.33v1.62h-3V31.44H42.79v3.23h1.55v3.14h1.6v1.38h-1.6V37.81H42.79V35.14H41.4v2.67H39.82v2.76H41.4v1.86H39.82V40.57h-1.7V35.86h1.7V31.44h1.42V30H42.7V28.58H41.24V26.74H39.82v1.84H36.66V26.74H35.34v-3.1h1.32V22.06h4.87v1.58H42.7v1.55H41.24v1.55h1.55V25.19h1.46V23.64h7.62v1.55H50.14v1.55H45.8V25.19H44.25v1.55H42.79v1.84h3V30H44.34v1.43h1.43V30h1.56V28.58h2.81V30h1.73v3.05Zm4.73,1.61H53.13v1.19H51.87V34.67h1.26V33.06h1.74ZM62.25,30H60.79V28.12h1.46Z" />
    </g>
    <g id="attack1">
        <rect x="67.76" y="16.92" width="1.64" height="1.64" />
        <rect x="70.62" y="16.92" width="1.64" height="1.64" />
        <rect x="69.39" y="13.86" width="1.22" height="3.06" />
        <rect x="73.39" y="16.92" width="1.64" height="1.64" />
        <rect x="78.43" y="13.86" width="1.53" height="1.53" />
        <polygon points="76.73 18.56 78.43 18.56 78.43 16.92 78.43 15.39 75.02 15.39 75.02 16.92 76.73 16.92 76.73 18.56" />
        <rect x="75.02" y="18.56" width="1.7" height="3.07" />
        <polygon points="83.19 29.75 83.19 28.01 81.54 28.01 81.54 26.25 79.76 26.25 79.76 24.71 81.54 24.71 81.54 23.27 82.63 23.27 82.63 21.69 76.73 21.69 76.73 23.27 79.68 23.27 79.68 24.71 78.07 24.71 78.07 26.25 78.91 26.25 78.91 28.01 78.32 28.01 78.32 29.31 76.73 29.31 76.73 31.2 75.35 31.2 75.35 34.35 74.14 34.35 74.14 32.73 72.18 32.73 72.18 34.39 73.82 34.39 73.82 35.88 75.35 35.88 75.35 37.33 76.73 37.33 76.73 39.21 78.32 39.21 78.32 35.55 76.73 35.55 76.73 32.73 78.24 32.73 78.24 34.39 79.9 34.39 79.9 32.73 78.32 32.73 78.32 29.75 83.19 29.75" />
        <rect x="69.12" y="32.73" width="1.59" height="1.66" />
        <rect x="66.14" y="32.73" width="1.59" height="1.66" />
        <rect x="67.73" y="34.39" width="1.4" height="2.82" />
    </g>
    <g id="attack2">
        <polygon points="66.57 18.77 66.57 15.6 64.93 15.6 64.93 17.6 62.96 17.6 62.96 18.77 64.93 18.77 66.57 18.77" />
        <rect x="67.79" y="15.6" width="1.64" height="2" />
        <rect x="66.57" y="11.22" width="1.22" height="4.38" />
        <rect x="72.2" y="17.6" width="1.7" height="2.7" />
        <polygon points="63.15 36.2 61.75 36.2 61.75 37.61 63.15 37.61 63.15 36.21 66.19 36.21 66.19 34.55 63.15 34.55 63.15 36.2" />
        <polygon points="65.14 39.44 65.14 42.26 66.19 42.26 66.19 41.1 67.45 41.1 67.45 39.44 69.06 39.44 69.06 37.83 67.45 37.83 67.45 36.21 66.19 36.21 66.19 39.44 65.14 39.44" />
        <rect x="61.44" y="16.09" width="1.51" height="1.51" />
        <polygon points="70.6 18.77 70.6 17.6 72.2 17.6 72.2 15.6 70.56 15.6 70.56 17.6 69.43 17.6 69.43 18.77 70.6 18.77" />
        <rect x="72.2" y="12.83" width="1.7" height="2.77" />
        <rect x="73.9" y="15.6" width="1.37" height="2" />
        <polygon points="76.54 14.41 78.3 14.41 78.3 12.7 76.54 12.7 76.54 13.93 75.27 13.93 75.27 15.6 76.54 15.6 76.54 14.41" />
        <rect x="79.73" y="17.26" width="1.53" height="1.69" />
        <rect x="78.48" y="14.41" width="1.25" height="2.85" />
        <polygon points="79.73 14.41 81.15 14.41 81.15 12.7 81.15 11.24 81.15 9.71 79.62 9.71 79.62 11.24 78.3 11.24 78.3 12.7 79.73 12.7 79.73 14.41" />
        <rect x="81.25" y="8.24" width="1.48" height="1.48" />
        <polygon points="84.39 17.26 85.98 17.26 85.98 15.97 82.8 15.97 82.8 17.26 82.8 20.74 84.39 20.74 84.39 17.26" />
        <rect x="84.39" y="20.74" width="1.82" height="1.64" />
        <rect x="85.99" y="14.41" width="1.56" height="1.56" />
        <rect x="87.39" y="25.37" width="0.92" height="1.52" />
        <polygon points="76.64 22.38 76.64 23.8 79.73 23.8 79.73 25.21 82.39 25.21 82.39 26.89 79.73 26.89 79.73 28.53 76.69 28.53 76.69 29.95 73.9 29.95 73.9 31.49 78.3 31.49 78.3 29.95 81.25 29.95 81.25 28.53 84.39 28.53 84.39 26.89 85.98 26.89 85.98 25.21 84.39 25.21 84.39 23.73 81.26 23.73 81.26 22.38 78.3 22.38 78.3 20.31 73.9 20.31 73.9 22.38 76.64 22.38" />
        <polygon points="69.37 32.99 66.19 32.99 66.19 34.55 67.78 34.55 67.78 36.2 69.37 36.2 69.37 34.55 69.37 32.99" />
        <rect x="69.37" y="36.2" width="1.54" height="1.62" />
        <rect x="70.91" y="34.34" width="2.77" height="1.69" />
        <rect x="73.68" y="36.2" width="1.62" height="1.62" />
        <polygon points="79.73 37.61 78.3 37.61 78.3 34.55 76.92 34.55 76.92 37.83 78.3 37.83 78.3 39.13 76.92 39.13 76.92 37.83 75.3 37.83 75.3 39.44 76.31 39.44 76.31 40.52 78.3 40.52 78.3 42.14 79.73 42.14 79.73 43.98 81.26 43.98 81.26 40.52 79.73 40.52 79.73 37.61" />
        <polygon points="81.25 36.19 85.98 36.19 85.98 34.55 84.54 34.55 84.54 32.99 82.8 32.99 82.8 34.55 81.26 34.55 81.26 32.99 78.3 32.99 78.3 34.55 81.25 34.55 81.25 36.19" />
        <rect x="85.99" y="36.21" width="2.1" height="1.61" />
        <rect x="81.26" y="31.49" width="1.54" height="1.5" />
        <rect x="82.8" y="29.95" width="1.74" height="1.54" />
        <polygon points="73.9 28.27 76.64 28.27 76.64 26.69 78.3 26.69 78.3 25.37 76.64 25.37 76.64 23.8 73.9 23.8 73.9 28.27" />
    </g>
</g>  
</template>

<script>
import { TimelineLite } from "gsap";

export default {
    name: "NaviAttack",
    props: {
        deviceType: {
            type: String
        }
    },    
    mounted() {
        this.attackTimeLine = new TimelineLite();

        this.attackTimeLine.to('#navi-attack-group', {y: 10, scaleX: 1.3, scaleY: 1.3, duration: 0.5, ease: "none"});
        this.attackTimeLine.to('#navi-attack-group', {y: 17, scaleX: 1.5, scaleY: 1.5, duration: 0.5, ease: "none"});
        this.attackTimeLine.set('#attack1', {display: 'block'});
        this.attackTimeLine.to('#navi-attack-group', {x: -15, duration: 0.5, ease: "none"});
        this.attackTimeLine.set('#attack1', {display: 'none'});
        this.attackTimeLine.set('#attack2', {display: 'block'});
        this.attackTimeLine.to('#navi-attack-group', {x: -27, duration: 0.5, ease: "none"});

        this.attackTimeLine.play()
        .then(() => this.$emit('animationEnd'));
    }
}
</script>

<style  scoped lang="scss">
#navi-attack-group {
    transform-origin: center;
    transform: ro;

    #attack1, #attack2 {
        display: none;
    }
}

</style>